# 스마클 6주차 과제: 서보모터 참참참
### 5팀 박경준
- - -
##### 우선 저번 시간에 결석했기 때문에 대체 과제를 하겠습니다.
- - -
### <10강 서보 모터 영상 내용 정리>
#### 모터의 종류에는 여러가지가 있다.
#### 서보모터, 리니어모터(앞뒤로 이동), 스텝모터(상대적인 각도로 움직임), DC모터(삥삥삥삥 돌아감)
#### 모터: 전력 받아 회전하는 장치
#### 서보 arm: 서보모터의 하얀 부분. 돌아가는 각도가 0도에서 180도이다.
#### 노란색 케이블: 신호를 전달받는 케이블 - 신호핀은 9번핀에 연결
#### 빨간색 케이블: 전원을 공급받는 케이블 - 전원핀은 5V에 연결
#### 주황색 케이블: 그라운드에 연결해서 접지해주는 케이블 - GND핀은 GND핀에 연결


#### Servo.h는 서보모터에 필요한 함수들을 담고 있는 파일이다.
#### #include <Servo.h> //서보모터 작동에 필요한 함수들을 포함을 시킨다.
#### Servo myservo; 여기서 myservo는 서보의 이름이다. 자유로이 설정 가능하다.

#### 아래는 setup문이다.
#### 서보모터는 pinmode라는 함수를 쓰지 않고, attach라는 함수를 사용한다.
#### attach가 붙어있다는 뜻을 나타낸다.
#### myservo.attach(9);
#### myservo라는 서보모터가 9번 핀에 연결되어 있다. 

#### 아래는 loop문이다. loop문에는 서보모터를 작동시키는 것에 관한 것을 적어준다.
#### digitalWrite랑 비슷한 함수가 있다.
#### 서보모터에서는 서보모터의 이름을 적어주고 write를 적어준다.
#### 이후 괄호 안에는 각도를 적어준다.

### [[실행 영상 1]](https://www.youtube.com/shorts/klEvtmtTabQ)
```c
#include <Servo.h>    //서보모터에 필요한 함수들을 포함을 시킨다.

Servo kj49;           //서보모터의 이름을 설정한다.

void setup() {        //서보모터 설정
  kj49.attach(9);     //kj49라는 서보모터가 9번 핀에 연결되어 있다.
}

void loop() {         //서보모터를 작동시키는 것에 관한 것을 적어준다.
  kj49.write(120);     //kj49라는 서보모터가 45도 움직인다.
}
```

### <11강 참참참 로봇 영상 내용 정리>
#### 참참참 게임에서 손이 회전하는 것을 우리가 서보모터로 표현을 할 수가 있다.
#### 서보arm을 왼쪽으로 돌아가게 하면 손이 왼쪽으로 돌아가는 것처럼 느끼게 될 것이다.
#### 서보arm을 중간으로 돌아가게 하면 손이 중간으로 돌아가는 것처럼 느끼게 될 것이다.
#### 서보arm을 오른쪽으로 돌아가게 하면 손이 오른쪽으로 돌아가는 것처럼 느끼게 될 것이다.

#### 스위치를 눌렀을 때 신호가 가면 좋을 것이다.
#### 신호를 주는 방법에는 여러 가지 방법이 있다.
#### 불로 번쩍 번쩍 번쩍해서 참참참 신호를 보낼 수 있다.
#### 그래서 신호를 주는 LED와 손을 나타내는 서보모터, 신호를 주라는 명령을 내릴 수 있는 스위치 세 가지 부품으로 만들 수 있곘다.
#### 근데 LED는 실감이 안 나니깐, 부저를 사용할 것이다.

#### 서보모터 연결은 
#### 노란색 케이블: 신호를 전달받는 케이블 - 신호핀은 디지털 9번핀에 연결
#### 빨간색 케이블(VCC): 전원을 공급받는 케이블 - 전원핀은 5V에 연결
#### 주황색 케이블: 그라운드에 연결해서 접지해주는 케이블 - GND핀은 GND핀에 연결
#### 부저의 한쪽 끝을 그라운드 핀에다 연결해준다.
#### 부저의 +극은 2번에 연결해준다.
#### 스위치는 브래드보드 중간에 끊겨지는 곳을 육교처럼 타고넘는다는 느낌으로 연결해준다.
#### 스위치의 한쪽 끝은 그라운드에 꽂고, 나머지 한쪽 끝은 10번핀에 꽂아준다.

#### 서보모터는 0도에서 180도까지 도는데 이는 스펙상으로 그런 것이고, 실제로는 한 20도에서 160도 정도 돈다.
#### 따라서 기준점을 설정해줘야 한다.

#### 아두이노가 켜지자마자 셋업함수로 넘어갈텐데, 초기화 해주기 위해 myservo.write(90);을 작성해줬다.
#### pinMode는 어떤 핀을 어떻게 사용할 것이다라고 선언해주는 함수이다.
#### 스위치가 연결이 되면 전류가 흐른다. 즉, 전류의 흐름 유무는 스위치의 열림과 닫힘 상태로 지정이 된다.
#### 아두이노 안에 저항을 작동시켜주는 게 있는데 그게 바로 INPUT_PULLUP이다.
#### random()에서 괄호 안은 범위를 의미한다.
#### random()도 함수고, myservo.write()도 함수다.
#### 근데 얘네들은 Servo.h에 미리 선언이 되어 있는 함수들이다.
#### 스위치를 누르면 HIGH, 안 누르면 LOW 상태인데, INPUT_PULLUP를 사용했기에 반대가 된다.

### [[실행 영상 2]](https://www.youtube.com/shorts/3wawiQBKMgo)
```c
#include <Servo.h>    //서보모터에 필요한 함수들을 포함을 시킨다.

Servo kj49;           //서보모터의 이름을 설정한다.

int num_tones = 3;    //부저를 통해 소리를 낼 횟수이다.
int tones = 392;      //음의 높낮이다.
int tempo = 100;      //부저의 소리 지속시간이다.(밀리초 기준)

void setup() {        //서보모터 설정
  kj49.attach(9);     //kj49라는 서보모터가 9번 핀에 연결되어 있다.
  kj49.write(90);     //서보모터를 90도로 초기화하여 정렬시킨다.
  pinMode(10, INPUT_PULLUP);  //버튼을 10번에 연결해준다. 이때 PULLUP은 저항 역할을 해준다.
  pinMode(2, OUTPUT);         //부저를 2번핀에 연결해준다.
}

void direction() {    //서보모터의 방향을 정할 함수 direction()을 선언해준다.
  int x;              //정수형 변수 x를 선언한다.

  x = random(3);      //x의 범위는 0~2이다.

  if (x == 0) kj49.write(20);         //x가 0일 경우 각도를 20도로 설정한다.
  else if (x == 1) kj49.write(90);    //x가 1일 경우 각도를 90도로 설정한다.
  else if (x == 2) kj49.write(160);   //x가 2일 경우 각도를 160도로 설정한다.
}

void loop() {         //서보모터를 작동시키는 것에 관한 것을 적어준다.
  if (digitalRead(10) == LOW) {             //스위치 ON일시 (PULLUP을 사용했기 때문에 전원 공급이 반대가 되어 있다.)
    for (int i = 0; i < num_tones; i++) {   //num_tones만큼 반복시킨다.
      tone(2, tones, tempo);     //2번핀, 높낮이, 지속시간에 맞게 부저를 울린다.
      delay(1000);              //1초 동안 딜레이시킨다.
    }
    direction();                //direction 함수로 참참참을 실행시킨다.
    delay(3000);                //3초 동안 딜레이시킨다.
    kj49.write(90);             //원래대로 90도로 서보모터를 재정렬, 초기화 시켜준다.
  }
}
```
- - -
### 6주차 과제
## >>> TinkerCAD 회로 및 코드
- #### 서보모터 참참참 게임 : [[LINK]](https://www.tinkercad.com/things/6CLchVWvFoX?sharecode=xIAw5Xxlr1j1C38bfh5D4-YHOaO-XWogTgnRVG97lss)
```c
#include <Servo.h>

Servo kj49;

int num_tones = 3;
int tones = 392;
int tempo = 100;

void setup() {
  kj49.attach(9);
  kj49.write(90);
  pinMode(10, INPUT_PULLUP);
  pinMode(2, OUTPUT);
}

void direction() {
  int x;

  x = random(3);

  if (x == 0) kj49.write(20);
  else if (x == 1) kj49.write(90);
  else if (x == 2) kj49.write(160);
}

void loop() {
  if (digitalRead(10) == LOW) {
    for (int i = 0; i < num_tones; i++) {
      tone(2, tones,tempo);
      delay(1000);
    }
    direction();
    delay(3000);
    kj49.write(90);
    tone(2, tones, tempo);	//3초가 지나고 초기화 됐음을 알려주기 위함.
  }
}
```
- - -
## >>> 느낀 점 및 새로 알게 된 
- ##### 오랜만에 아두이노를 집에서 하니 재밌었다.
- ##### 틴커캐드에서는 90도 초기화 후 삑 소리를 한 번 더 주어 한 작동이 끝났음을 알려주는 것을 추가했다.
- ##### 서보모터는 스펙상으로만 0도에서 180도를 움직이고 실제로는 약 20도에서 160도를 움직인다.
- ##### 서보모터는 pinMode가 아닌 attach 함수를 사용한다.
- ##### random() 함수에서 괄호 안은 범위를 의미한다.
